#!/usr/bin/env python3
"""
Drill TUI - Textual entry point for drilling due cards.

Usage:
    ./drill              # Launch drill queue TUI
    ./drill --help       # Show help
"""
import os
import sys

# Ensure local imports (tui/, reviewer/)
sys.path.insert(0, os.path.dirname(os.path.abspath(__file__)))


def print_help() -> None:
    print("""
PHD Drill - Textual Drill Runner

Usage:
    ./drill              Launch the drill TUI (due cards prioritized)
    ./drill --help       Show this help message

Shortcuts inside the TUI:
  ↑/↓ or j/k    Navigate due list
  Enter         Drill selected card
  d             Drill all due cards
  r             Refresh queue
  q             Quit

CLI fallback (legacy):
  uv run python3 -m reviewer.reviewer --drill-due
""")


def run_tui() -> None:
    try:
        from tui.app import DrillApp
        app = DrillApp()
        app.run()
    except ImportError as e:
        print(f"Error starting drill TUI: {e}")
        print("Try running: uv run ./drill")
        sys.exit(1)


if __name__ == "__main__":
    args = sys.argv[1:]

    if "--help" in args or "-h" in args:
        print_help()
    else:
        run_tui()
